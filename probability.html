<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ - ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡ßá‡¶ï‡ßç‡¶ü‡¶ø‡¶≠ ‡¶ó‡ßá‡¶Æ</title>
    <!-- KaTeX CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #34495e;
            --accent: #e74c3c;
            --light: #f8f9fa;
            --dark: #2c3e50;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --book-bg: #fdf6e3;
            --book-border: #d4b56a;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'SolaimanLipi', 'Siyam Rupali', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: #f5f7fa;
            color: var(--dark);
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px;
            background: var(--book-bg);
            color: var(--dark);
            border-radius: 8px;
            box-shadow: var(--shadow);
            border: 1px solid var(--book-border);
            position: relative;
        }
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--primary);
        }
        .subtitle {
            font-size: 1.2rem;
            color: var(--secondary);
        }
        .game-area {
            display: flex;
            flex-wrap: wrap;
            gap: 25px;
        }
        .formula-section {
            flex: 1;
            min-width: 350px;
            background: var(--book-bg);
            border-radius: 8px;
            padding: 25px;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border: 1px solid var(--book-border);
            position: relative;
            margin-bottom: 20px;
        }
        .formula-section::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            width: 8px;
            background: linear-gradient(to bottom, var(--primary), var(--secondary));
            border-radius: 8px 0 0 8px;
        }
        .locked {
            opacity: 0.7;
            pointer-events: none;
            position: relative;
            overflow: hidden;
        }
        .locked::after {
            content: "üîí";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            z-index: 10;
            background: rgba(255,255,255,0.8);
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .formula-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--book-border);
        }
        .formula-number {
            background-color: var(--primary);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
            font-size: 1.2rem;
            flex-shrink: 0;
        }
        .formula-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--dark);
        }
        .formula-box {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 1px solid #ddd;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            overflow-x: auto;
        }
        .math-formula {
            font-size: 1.5rem;
            font-family: 'Times New Roman', serif;
            color: var(--dark);
            padding: 10px;
            word-break: break-word;
        }
        .fraction {
            display: inline-block;
            vertical-align: middle;
            text-align: center;
            margin: 0 5px;
        }
        .fraction span {
            display: block;
        }
        .numerator {
            border-bottom: 1px solid var(--dark);
            padding: 0 5px;
        }
        .denominator {
            padding: 0 5px;
        }
        .explanation {
            margin: 20px 0;
            line-height: 1.8;
            font-size: 1.1rem;
            text-align: justify;
        }
        .example {
            background-color: #e8f4fc;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid var(--secondary);
            overflow-x: auto;
        }
        .example-title {
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--dark);
            font-size: 1.2rem;
        }
        .practice-area {
            background-color: #f0f7ff;
            padding: 25px;
            border-radius: 8px;
            margin-top: 25px;
            border: 1px solid #c5d9f1;
            overflow-x: auto;
        }
        .practice-title {
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--dark);
            font-size: 1.2rem;
        }
        .question {
            margin-bottom: 20px;
            font-weight: 600;
            font-size: 1.1rem;
        }
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
        }
        .option {
            padding: 12px 18px;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1.05rem;
            word-break: break-word;
        }
        .option:hover {
            background-color: #f0f0f0;
            transform: translateY(-2px);
        }
        .option.selected {
            background-color: #d6eaf8;
            border-color: var(--primary);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .option.correct {
            background-color: #d4edda;
            border-color: #28a745;
        }
        .option.incorrect {
            background-color: #f8d7da;
            border-color: #dc3545;
        }
        .submit-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: background-color 0.3s;
            font-weight: 600;
        }
        .submit-btn:hover {
            background-color: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .submit-btn:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 6px;
            display: none;
            font-size: 1.1rem;
            word-break: break-word;
        }
        .result.correct {
            background-color: #d4edda;
            color: #155724;
            display: block;
            border: 1px solid #c3e6cb;
        }
        .result.incorrect {
            background-color: #f8d7da;
            color: #721c24;
            display: block;
            border: 1px solid #f5c6cb;
        }
        .venn-container {
            display: flex;
            justify-content: center;
            margin: 25px 0;
            width: 100%;
            overflow-x: auto;
        }
        .venn-diagram {
            width: 320px;
            height: 220px;
            position: relative;
            min-width: 220px;
        }
        .circle {
            border-radius: 50%;
            position: absolute;
            opacity: 0.8;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .circle-a {
            background-color: #3498db;
            width: 150px;
            height: 150px;
            left: 30px;
            top: 35px;
        }
        .circle-b {
            background-color: #2ecc71;
            width: 150px;
            height: 150px;
            right: 30px;
            top: 35px;
        }
        .circle-no-overlap-a {
            background-color: #3498db;
            width: 150px;
            height: 150px;
            left: 20px;
            top: 35px;
        }
        .circle-no-overlap-b {
            background-color: #2ecc71;
            width: 150px;
            height: 150px;
            right: 20px;
            top: 35px;
        }
        .intersection {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            font-weight: bold;
            color: var(--dark);
            background: rgba(255,255,255,0.8);
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 1.1rem;
        }
        .faq-section {
            margin-top: 50px;
            background: var(--book-bg);
            border-radius: 8px;
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--book-border);
        }
        .faq-title {
            font-size: 1.8rem;
            margin-bottom: 25px;
            color: var(--dark);
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--book-border);
        }
        .faq-item {
            margin-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 20px;
        }
        .faq-question {
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--primary);
            font-size: 1.2rem;
        }
        .faq-answer {
            line-height: 1.7;
            font-size: 1.1rem;
        }
        .progress-bar {
            height: 12px;
            background-color: #e0e0e0;
            border-radius: 6px;
            margin: 25px 0;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
        }
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 6px;
        }
        .progress-text {
            text-align: center;
            font-weight: 700;
            margin-bottom: 15px;
            font-size: 1.2rem;
            color: var(--dark);
        }
        .math-example {
            font-family: 'Times New Roman', serif;
            line-height: 1.8;
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 6px;
            border: 1px solid #e0e0e0;
            font-size: 1.1rem;
            overflow-x: auto;
        }
        .math-line {
            margin: 8px 0;
        }

        /* RESPONSIVE STYLES */
        @media (max-width: 1024px) {
            .game-area {
                flex-direction: column;
                gap: 16px;
            }
            .formula-section {
                min-width: 0;
                padding: 18px;
            }
            .venn-diagram {
                width: 240px;
                height: 160px;
            }
            .circle-a, .circle-b, .circle-no-overlap-a, .circle-no-overlap-b {
                width: 110px;
                height: 110px;
                font-size: 1rem;
            }
        }
        @media (max-width: 768px) {
            .container {
                padding: 8px;
            }
            header {
                padding: 12px;
            }
            h1 {
                font-size: 2rem;
            }
            .game-area {
                gap: 10px;
            }
            .formula-section {
                padding: 12px;
            }
            .formula-title {
                font-size: 1.1rem;
            }
            .formula-number {
                width: 30px;
                height: 30px;
                font-size: 1rem;
            }
            .formula-box {
                padding: 8px;
                font-size: 1rem;
            }
            .math-formula {
                font-size: 1.1rem;
                padding: 5px;
            }
            .example, .practice-area {
                padding: 10px;
                font-size: 1rem;
            }
            .venn-diagram {
                width: 160px;
                height: 100px;
            }
            .circle-a, .circle-b, .circle-no-overlap-a, .circle-no-overlap-b {
                width: 65px;
                height: 65px;
                font-size: .8rem;
            }
        }
        @media (max-width: 480px) {
            .container {
                padding: 2px;
            }
            header {
                font-size: 90%;
            }
            h1 {
                font-size: 1.2rem;
            }
            .faq-section {
                padding: 8px;
            }
            .faq-title {
                font-size: 1.1rem;
            }
            .faq-question {
                font-size: 1rem;
            }
            .faq-answer {
                font-size: .95rem;
            }
            .venn-diagram {
                width: 110px;
                height: 70px;
            }
            .circle-a, .circle-b, .circle-no-overlap-a, .circle-no-overlap-b {
                width: 35px;
                height: 35px;
                font-size: .6rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ</h1>
            <p class="subtitle">‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡ßá‡¶ï‡ßç‡¶ü‡¶ø‡¶≠ ‡¶ó‡ßá‡¶Æ‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ‡¶∞ ‡¶∏‡ßÇ‡¶§‡ßç‡¶∞‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶®</p>
        </header>
        <div class="progress-text">‡¶Ö‡¶ó‡ßç‡¶∞‡¶ó‡¶§‡¶ø: <span id="progress-percent">0%</span></div>
        <div class="progress-bar"><div class="progress" id="progress"></div></div>
        <div class="game-area" id="game-area"></div>
        <div class="faq-section">
            <h2 class="faq-title">‡¶∏‡¶ö‡¶∞‡¶æ‡¶ö‡¶∞ ‡¶ú‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶∏‡¶ø‡¶§ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® (FAQ)</h2>
            <div class="faq-item">
                <div class="faq-question">‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶ï‡ßÄ?</div>
                <div class="faq-answer">‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶π‡¶≤‡ßã ‡¶ï‡ßã‡¶®‡ßã ‡¶ò‡¶ü‡¶®‡¶æ ‡¶ò‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ‡¶∞ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶ó‡¶§ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶™‡•§ ‡¶è‡¶ü‡¶ø 0 ‡¶•‡ßá‡¶ï‡ßá 1 ‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∂ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º, ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá 0 ‡¶Æ‡¶æ‡¶®‡ßá ‡¶ò‡¶ü‡¶®‡¶æ‡¶ü‡¶ø ‡¶ï‡¶ñ‡¶®‡ßã‡¶á ‡¶ò‡¶ü‡¶¨‡ßá ‡¶®‡¶æ ‡¶è‡¶¨‡¶Ç 1 ‡¶Æ‡¶æ‡¶®‡ßá ‡¶ò‡¶ü‡¶®‡¶æ‡¶ü‡¶ø ‡¶Ö‡¶¨‡¶∂‡ßç‡¶Ø‡¶á ‡¶ò‡¶ü‡¶¨‡ßá‡•§</div>
            </div>
            <div class="faq-item">
                <div class="faq-question">‡¶®‡¶Æ‡ßÅ‡¶®‡¶æ ‡¶∏‡ßç‡¶•‡¶æ‡¶® (Sample Space) ‡¶ï‡ßÄ?</div>
                <div class="faq-answer">‡¶è‡¶ï‡¶ü‡¶ø ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡ßç‡¶Ø ‡¶´‡¶≤‡¶æ‡¶´‡¶≤‡ßá‡¶∞ ‡¶∏‡ßá‡¶ü‡¶ï‡ßá ‡¶®‡¶Æ‡ßÅ‡¶®‡¶æ ‡¶∏‡ßç‡¶•‡¶æ‡¶® ‡¶¨‡¶≤‡ßá‡•§ ‡¶è‡¶ü‡¶ø ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ S ‡¶¶‡ßç‡¶¨‡¶æ‡¶∞‡¶æ ‡¶ö‡¶ø‡¶π‡ßç‡¶®‡¶ø‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡•§</div>
            </div>
            <div class="faq-item">
                <div class="faq-question">‡¶¨‡¶∞‡ßç‡¶ú‡¶®‡¶∂‡ßÄ‡¶≤ ‡¶ò‡¶ü‡¶®‡¶æ (Mutually Exclusive Events) ‡¶ï‡ßÄ?</div>
                <div class="faq-answer">‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶ò‡¶ü‡¶®‡¶æ‡¶ï‡ßá ‡¶¨‡¶∞‡ßç‡¶ú‡¶®‡¶∂‡ßÄ‡¶≤ ‡¶¨‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º ‡¶Ø‡¶¶‡¶ø ‡¶§‡¶æ‡¶∞‡¶æ ‡¶è‡¶ï‡¶á ‡¶∏‡¶æ‡¶•‡ßá ‡¶ò‡¶ü‡¶§‡ßá ‡¶®‡¶æ ‡¶™‡¶æ‡¶∞‡ßá‡•§ ‡¶Ö‡¶∞‡ßç‡¶•‡¶æ‡ßé, ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶õ‡ßá‡¶¶ ‡¶∂‡ßÇ‡¶®‡ßç‡¶Ø (A ‚à© B = ‚àÖ)‡•§</div>
            </div>
            <div class="faq-item">
                <div class="faq-question">‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶® ‡¶ò‡¶ü‡¶®‡¶æ (Independent Events) ‡¶ï‡ßÄ?</div>
                <div class="faq-answer">‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶ò‡¶ü‡¶®‡¶æ ‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶® ‡¶π‡¶Ø‡¶º ‡¶Ø‡¶¶‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ò‡¶ü‡¶®‡¶æ ‡¶ò‡¶ü‡¶æ ‡¶Ö‡¶®‡ßç‡¶Ø‡¶ü‡¶ø‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ‡¶ï‡ßá ‡¶™‡ßç‡¶∞‡¶≠‡¶æ‡¶¨‡¶ø‡¶§ ‡¶®‡¶æ ‡¶ï‡¶∞‡ßá‡•§ ‡¶Ö‡¶∞‡ßç‡¶•‡¶æ‡ßé, P(A|B) = P(A) ‡¶è‡¶¨‡¶Ç P(B|A) = P(B)‡•§</div>
            </div>
        </div>
    </div>
    <!-- KaTeX JS for math rendering -->
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <script>
        // Formula data (LaTeX everywhere)
        const formulas = [
            {
                id: 1,
                title: "‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßå‡¶≤‡¶ø‡¶ï ‡¶∏‡ßÇ‡¶§‡ßç‡¶∞",
                formula: "$$P(A) = \\frac{n(A)}{n(S)}$$",
                explanation: "‡¶ï‡ßã‡¶®‡ßã ‡¶ò‡¶ü‡¶®‡¶æ $A$ ‡¶ò‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶π‡¶≤‡ßã $A$ ‡¶ò‡¶ü‡¶®‡¶æ‡¶∞ ‡¶â‡¶™‡¶æ‡¶¶‡¶æ‡¶® ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶®‡¶Æ‡ßÅ‡¶®‡¶æ ‡¶∏‡ßç‡¶•‡¶æ‡¶® $S$-‡¶è‡¶∞ ‡¶Æ‡ßã‡¶ü ‡¶â‡¶™‡¶æ‡¶¶‡¶æ‡¶® ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶™‡¶æ‡¶§‡•§ ‡¶è‡¶á ‡¶∏‡ßÇ‡¶§‡ßç‡¶∞‡¶ü‡¶ø ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ‡¶∞ ‡¶∏‡¶¨‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶Æ‡ßå‡¶≤‡¶ø‡¶ï ‡¶∏‡¶Ç‡¶ú‡ßç‡¶û‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶∏‡¶¨ ‡¶∏‡ßÇ‡¶§‡ßç‡¶∞‡ßá‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡•§",
                example: {
                    question: "‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡¶ø‡¶∞‡¶™‡ßá‡¶ï‡ßç‡¶∑ ‡¶õ‡¶ï‡ßç‡¶ï‡¶æ ‡¶®‡¶ø‡¶ï‡ßç‡¶∑‡ßá‡¶™ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßá ‡¶ú‡ßã‡¶°‡¶º ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶â‡¶†‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶ï‡¶§?",
                    solution: `<div class="math-example">
                        <div class="math-line">‡¶®‡¶Æ‡ßÅ‡¶®‡¶æ ‡¶∏‡ßç‡¶•‡¶æ‡¶® $S = \\{1, 2, 3, 4, 5, 6\\}$</div>
                        <div class="math-line">$n(S) = 6$</div>
                        <div class="math-line">‡¶ú‡ßã‡¶°‡¶º ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü $A = \\{2, 4, 6\\}$</div>
                        <div class="math-line">$n(A) = 3$</div>
                        <div class="math-line">$$P(A) = \\frac{n(A)}{n(S)} = \\frac{3}{6} = \\frac{1}{2}$$</div>
                    </div>`
                },
                practice: {
                    question: "‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ó‡ßá 5‡¶ü‡¶ø ‡¶≤‡¶æ‡¶≤, 3‡¶ü‡¶ø ‡¶®‡ßÄ‡¶≤ ‡¶è‡¶¨‡¶Ç 2‡¶ü‡¶ø ‡¶∏‡¶¨‡ßÅ‡¶ú ‡¶¨‡¶≤ ‡¶Ü‡¶õ‡ßá‡•§ ‡¶Ø‡¶¶‡¶ø ‡¶è‡¶≤‡ßã‡¶Æ‡ßá‡¶≤‡ßã‡¶≠‡¶æ‡¶¨‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡¶≤ ‡¶§‡ßã‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º, ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶®‡ßÄ‡¶≤ ‡¶¨‡¶≤ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶ï‡¶§?",
                    options: ["$\\frac{3}{10}$", "$\\frac{1}{2}$", "$\\frac{1}{5}$", "$\\frac{2}{5}$"],
                    correct: 0,
                    explanation: "‡¶Æ‡ßã‡¶ü ‡¶¨‡¶≤ $= 5 + 3 + 2 = 10$<br>‡¶®‡ßÄ‡¶≤ ‡¶¨‡¶≤ $= 3$<br>‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ $= \\frac{3}{10}$"
                }
            },
            {
                id: 2,
                title: "‡¶¨‡¶∞‡ßç‡¶ú‡¶®‡¶∂‡ßÄ‡¶≤ ‡¶ò‡¶ü‡¶®‡¶æ‡¶∞ ‡¶Ø‡ßã‡¶ó‡¶∏‡ßÇ‡¶§‡ßç‡¶∞",
                formula: "$$P(A \\cup B) = P(A) + P(B)$$",
                explanation: "‡¶Ø‡¶¶‡¶ø $A$ ‡¶è‡¶¨‡¶Ç $B$ ‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶¨‡¶∞‡ßç‡¶ú‡¶®‡¶∂‡ßÄ‡¶≤ ‡¶ò‡¶ü‡¶®‡¶æ ‡¶π‡¶Ø‡¶º (‡¶Ö‡¶∞‡ßç‡¶•‡¶æ‡ßé ‡¶§‡¶æ‡¶∞‡¶æ ‡¶è‡¶ï‡¶á ‡¶∏‡¶æ‡¶•‡ßá ‡¶ò‡¶ü‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá ‡¶®‡¶æ), ‡¶§‡¶æ‡¶π‡¶≤‡ßá $A$ ‡¶Ö‡¶•‡¶¨‡¶æ $B$ ‡¶ò‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶π‡¶≤‡ßã ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶™‡ßÉ‡¶•‡¶ï ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶∑‡ßç‡¶ü‡¶ø‡•§ ‡¶è‡¶á ‡¶∏‡ßÇ‡¶§‡ßç‡¶∞‡¶ü‡¶ø ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶§‡¶ñ‡¶®‡¶á ‡¶™‡ßç‡¶∞‡¶Ø‡ßã‡¶ú‡ßç‡¶Ø ‡¶Ø‡¶ñ‡¶® $A$ ‡¶è‡¶¨‡¶Ç $B$ ‡¶™‡¶∞‡¶∏‡ßç‡¶™‡¶∞ ‡¶¨‡¶∞‡ßç‡¶ú‡¶®‡¶∂‡ßÄ‡¶≤‡•§",
                example: {
                    question: "‡¶è‡¶ï‡¶ü‡¶ø ‡¶õ‡¶ï‡ßç‡¶ï‡¶æ ‡¶®‡¶ø‡¶ï‡ßç‡¶∑‡ßá‡¶™ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßá 2 ‡¶Ö‡¶•‡¶¨‡¶æ 5 ‡¶â‡¶†‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶ï‡¶§?",
                    solution: `<div class="math-example">
                        <div class="math-line">$P(2) = \\frac{1}{6}$</div>
                        <div class="math-line">$P(5) = \\frac{1}{6}$</div>
                        <div class="math-line">‡¶Ø‡ßá‡¶π‡ßá‡¶§‡ßÅ 2 ‡¶è‡¶¨‡¶Ç 5 ‡¶è‡¶ï‡¶á ‡¶∏‡¶æ‡¶•‡ßá ‡¶â‡¶†‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá ‡¶®‡¶æ, ‡¶§‡¶æ‡¶á ‡¶§‡¶æ‡¶∞‡¶æ ‡¶¨‡¶∞‡ßç‡¶ú‡¶®‡¶∂‡ßÄ‡¶≤</div>
                        <div class="math-line">$$P(2 \\text{ ‡¶¨‡¶æ } 5) = P(2) + P(5) = \\frac{1}{6} + \\frac{1}{6} = \\frac{2}{6} = \\frac{1}{3}$$</div>
                    </div>`
                },
                practice: {
                    question: "‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ó‡ßá 4‡¶ü‡¶ø ‡¶≤‡¶æ‡¶≤, 5‡¶ü‡¶ø ‡¶®‡ßÄ‡¶≤ ‡¶è‡¶¨‡¶Ç 6‡¶ü‡¶ø ‡¶∏‡¶¨‡ßÅ‡¶ú ‡¶Æ‡¶æ‡¶∞‡ßç‡¶¨‡ßá‡¶≤ ‡¶Ü‡¶õ‡ßá‡•§ ‡¶è‡¶≤‡ßã‡¶Æ‡ßá‡¶≤‡ßã‡¶≠‡¶æ‡¶¨‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Æ‡¶æ‡¶∞‡ßç‡¶¨‡ßá‡¶≤ ‡¶§‡ßÅ‡¶≤‡¶≤‡ßá ‡¶∏‡ßá‡¶ü‡¶ø ‡¶≤‡¶æ‡¶≤ ‡¶¨‡¶æ ‡¶®‡ßÄ‡¶≤ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶ï‡¶§?",
                    options: ["$\\frac{3}{5}$", "$\\frac{2}{5}$", "$\\frac{9}{15}$", "$\\frac{1}{3}$"],
                    correct: 0,
                    explanation: "‡¶Æ‡ßã‡¶ü ‡¶Æ‡¶æ‡¶∞‡ßç‡¶¨‡ßá‡¶≤ $= 4 + 5 + 6 = 15$<br>‡¶≤‡¶æ‡¶≤ ‡¶¨‡¶æ ‡¶®‡ßÄ‡¶≤ ‡¶Æ‡¶æ‡¶∞‡ßç‡¶¨‡ßá‡¶≤ $= 4 + 5 = 9$<br>‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ $= \\frac{9}{15} = \\frac{3}{5}$"
                },
                venn: "no-overlap"
            },
            {
                id: 3,
                title: "‡¶Ö‡¶¨‡¶∞‡ßç‡¶ú‡¶®‡¶∂‡ßÄ‡¶≤ ‡¶ò‡¶ü‡¶®‡¶æ‡¶∞ ‡¶Ø‡ßã‡¶ó‡¶∏‡ßÇ‡¶§‡ßç‡¶∞",
                formula: "$$P(A \\cup B) = P(A) + P(B) - P(A \\cap B)$$",
                explanation: "‡¶Ø‡¶¶‡¶ø $A$ ‡¶è‡¶¨‡¶Ç $B$ ‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶Ö‡¶¨‡¶∞‡ßç‡¶ú‡¶®‡¶∂‡ßÄ‡¶≤ ‡¶ò‡¶ü‡¶®‡¶æ ‡¶π‡¶Ø‡¶º (‡¶Ö‡¶∞‡ßç‡¶•‡¶æ‡ßé ‡¶§‡¶æ‡¶∞‡¶æ ‡¶è‡¶ï‡¶á ‡¶∏‡¶æ‡¶•‡ßá ‡¶ò‡¶ü‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá), ‡¶§‡¶æ‡¶π‡¶≤‡ßá $A$ ‡¶Ö‡¶•‡¶¨‡¶æ $B$ ‡¶ò‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶π‡¶≤‡ßã ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶™‡ßÉ‡¶•‡¶ï ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶∑‡ßç‡¶ü‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶Ø‡ßå‡¶• ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶¨‡¶ø‡¶Ø‡¶º‡ßã‡¶ó‡•§ ‡¶è‡¶á ‡¶¨‡¶ø‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º ‡¶Ø‡ßá‡¶® ‡¶õ‡ßá‡¶¶ ‡¶Ö‡¶Ç‡¶∂ ‡¶¶‡ßÅ‡¶á‡¶¨‡¶æ‡¶∞ ‡¶ó‡¶£‡¶®‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶®‡¶æ ‡¶π‡¶Ø‡¶º‡•§",
                example: {
                    question: "52‡¶ü‡¶ø ‡¶§‡¶æ‡¶∏‡ßá‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ó‡ßã‡¶õ‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶§‡¶æ‡¶∏ ‡¶§‡ßã‡¶≤‡¶æ ‡¶π‡¶≤‡ßá ‡¶∏‡ßá‡¶ü‡¶ø ‡¶π‡¶∞‡¶§‡¶® ‡¶Ö‡¶•‡¶¨‡¶æ ‡¶∞‡¶æ‡¶ú‡¶æ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶ï‡¶§?",
                    solution: `<div class="math-example">
                        <div class="math-line">$P(‡¶π‡¶∞‡¶§‡¶®) = \\frac{13}{52}$</div>
                        <div class="math-line">$P(‡¶∞‡¶æ‡¶ú‡¶æ) = \\frac{4}{52}$</div>
                        <div class="math-line">$P(‡¶π‡¶∞‡¶§‡¶® \\text{ ‡¶è‡¶¨‡¶Ç } ‡¶∞‡¶æ‡¶ú‡¶æ) = \\frac{1}{52}$ (‡¶π‡¶∞‡¶§‡¶®‡ßá‡¶∞ ‡¶∞‡¶æ‡¶ú‡¶æ)</div>
                        <div class="math-line">$$P(‡¶π‡¶∞‡¶§‡¶® \\text{ ‡¶¨‡¶æ } ‡¶∞‡¶æ‡¶ú‡¶æ) = \\frac{13}{52} + \\frac{4}{52} - \\frac{1}{52} = \\frac{16}{52} = \\frac{4}{13}$$</div>
                    </div>`
                },
                practice: {
                    question: "‡¶è‡¶ï‡¶ü‡¶ø ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡¶ø‡¶§‡ßá 30 ‡¶ú‡¶® ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá 20 ‡¶ú‡¶® ‡¶ó‡¶£‡¶ø‡¶§ ‡¶™‡¶õ‡¶®‡ßç‡¶¶ ‡¶ï‡¶∞‡ßá ‡¶è‡¶¨‡¶Ç 15 ‡¶ú‡¶® ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶® ‡¶™‡¶õ‡¶®‡ßç‡¶¶ ‡¶ï‡¶∞‡ßá‡•§ 10 ‡¶ú‡¶® ‡¶â‡¶≠‡¶Ø‡¶º ‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º ‡¶™‡¶õ‡¶®‡ßç‡¶¶ ‡¶ï‡¶∞‡ßá‡•§ ‡¶è‡¶≤‡ßã‡¶Æ‡ßá‡¶≤‡ßã‡¶≠‡¶æ‡¶¨‡ßá ‡¶è‡¶ï‡¶ú‡¶® ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡¶≤‡ßá ‡¶∏‡ßá ‡¶ó‡¶£‡¶ø‡¶§ ‡¶¨‡¶æ ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶® ‡¶™‡¶õ‡¶®‡ßç‡¶¶ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶ï‡¶§?",
                    options: ["$\\frac{5}{6}$", "$\\frac{2}{3}$", "$\\frac{1}{3}$", "$\\frac{7}{10}$"],
                    correct: 0,
                    explanation: "$P(‡¶ó‡¶£‡¶ø‡¶§) = \\frac{20}{30}$, $P(‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®) = \\frac{15}{30}$, $P(‡¶â‡¶≠‡¶Ø‡¶º) = \\frac{10}{30}$<br>$P(‡¶ó‡¶£‡¶ø‡¶§ \\text{ ‡¶¨‡¶æ } ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®) = \\frac{20}{30} + \\frac{15}{30} - \\frac{10}{30} = \\frac{25}{30} = \\frac{5}{6}$"
                },
                venn: "overlap"
            },
            {
                id: 4,
                title: "‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶® ‡¶ò‡¶ü‡¶®‡¶æ‡¶∞ ‡¶ó‡ßÅ‡¶£‡¶® ‡¶∏‡ßÇ‡¶§‡ßç‡¶∞",
                formula: "$$P(A \\cap B) = P(A) \\times P(B)$$",
                explanation: "‡¶Ø‡¶¶‡¶ø $A$ ‡¶è‡¶¨‡¶Ç $B$ ‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶® ‡¶ò‡¶ü‡¶®‡¶æ ‡¶π‡¶Ø‡¶º (‡¶è‡¶ï‡¶ü‡¶ø ‡¶ò‡¶ü‡¶®‡¶æ ‡¶ò‡¶ü‡¶æ ‡¶Ö‡¶®‡ßç‡¶Ø‡¶ü‡¶ø‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ‡¶ï‡ßá ‡¶™‡ßç‡¶∞‡¶≠‡¶æ‡¶¨‡¶ø‡¶§ ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ), ‡¶§‡¶æ‡¶π‡¶≤‡ßá $A$ ‡¶è‡¶¨‡¶Ç $B$ ‡¶â‡¶≠‡¶Ø‡¶º ‡¶ò‡¶ü‡¶®‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶π‡¶≤‡ßã ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶™‡ßÉ‡¶•‡¶ï ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ‡¶∞ ‡¶ó‡ßÅ‡¶£‡¶´‡¶≤‡•§ ‡¶è‡¶á ‡¶∏‡ßÇ‡¶§‡ßç‡¶∞‡¶ü‡¶ø ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶® ‡¶ò‡¶ü‡¶®‡¶æ‡¶∞ ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡¶∞‡ßá ‡¶™‡ßç‡¶∞‡¶Ø‡ßã‡¶ú‡ßç‡¶Ø‡•§",
                example: {
                    question: "‡¶è‡¶ï‡¶ü‡¶ø ‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶è‡¶ï‡¶ü‡¶ø ‡¶õ‡¶ï‡ßç‡¶ï‡¶æ ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶®‡¶ø‡¶ï‡ßç‡¶∑‡ßá‡¶™ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßá ‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞‡¶æ‡¶Ø‡¶º ‡¶π‡ßá‡¶° ‡¶è‡¶¨‡¶Ç ‡¶õ‡¶ï‡ßç‡¶ï‡¶æ‡¶Ø‡¶º 6 ‡¶â‡¶†‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶ï‡¶§?",
                    solution: `<div class="math-example">
                        <div class="math-line">$P(‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞‡¶æ‡¶Ø‡¶º ‡¶π‡ßá‡¶°) = \\frac{1}{2}$</div>
                        <div class="math-line">$P(‡¶õ‡¶ï‡ßç‡¶ï‡¶æ‡¶Ø‡¶º 6) = \\frac{1}{6}$</div>
                        <div class="math-line">‡¶Ø‡ßá‡¶π‡ßá‡¶§‡ßÅ ‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶õ‡¶ï‡ßç‡¶ï‡¶æ ‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶®</div>
                        <div class="math-line">$$P(‡¶π‡ßá‡¶° \\text{ ‡¶è‡¶¨‡¶Ç } 6) = \\frac{1}{2} \\times \\frac{1}{6} = \\frac{1}{12}$$</div>
                    </div>`
                },
                practice: {
                    question: "‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶®‡¶ø‡¶∞‡¶™‡ßá‡¶ï‡ßç‡¶∑ ‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞‡¶æ ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶®‡¶ø‡¶ï‡ßç‡¶∑‡ßá‡¶™ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßá ‡¶â‡¶≠‡¶Ø‡¶º ‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞‡¶æ‡¶Ø‡¶º ‡¶π‡ßá‡¶° ‡¶â‡¶†‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶ï‡¶§?",
                    options: ["$\\frac{1}{4}$", "$\\frac{1}{2}$", "$\\frac{3}{4}$", "$\\frac{1}{3}$"],
                    correct: 0,
                    explanation: "‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞‡¶æ‡¶Ø‡¶º ‡¶π‡ßá‡¶° ‡¶â‡¶†‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ $= \\frac{1}{2}$<br>‡¶¶‡ßç‡¶¨‡¶ø‡¶§‡ßÄ‡¶Ø‡¶º ‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞‡¶æ‡¶Ø‡¶º ‡¶π‡ßá‡¶° ‡¶â‡¶†‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ $= \\frac{1}{2}$<br>‡¶â‡¶≠‡¶Ø‡¶º ‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞‡¶æ‡¶Ø‡¶º ‡¶π‡ßá‡¶° ‡¶â‡¶†‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ $= \\frac{1}{2} \\times \\frac{1}{2} = \\frac{1}{4}$"
                },
                venn: "independent"
            },
            {
                id: 5,
                title: "‡¶∂‡¶∞‡ßç‡¶§‡¶æ‡¶ß‡ßÄ‡¶® ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ",
                formula: "$$P(A|B) = \\frac{P(A \\cap B)}{P(B)}$$",
                explanation: "$B$ ‡¶ò‡¶ü‡¶®‡¶æ ‡¶ò‡¶ü‡¶≤‡ßá $A$ ‡¶ò‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ‡¶ï‡ßá ‡¶∂‡¶∞‡ßç‡¶§‡¶æ‡¶ß‡ßÄ‡¶® ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶¨‡¶≤‡ßá‡•§ ‡¶è‡¶ü‡¶ø $A$ ‡¶è‡¶¨‡¶Ç $B$-‡¶è‡¶∞ ‡¶Ø‡ßå‡¶• ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶è‡¶¨‡¶Ç $B$-‡¶è‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶™‡¶æ‡¶§‡•§ ‡¶è‡¶á ‡¶∏‡ßÇ‡¶§‡ßç‡¶∞‡¶ü‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶≠‡¶∞‡¶∂‡ßÄ‡¶≤ ‡¶ò‡¶ü‡¶®‡¶æ‡¶∞ ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡¶∞‡ßá ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡•§",
                example: {
                    question: "52‡¶ü‡¶ø ‡¶§‡¶æ‡¶∏‡ßá‡¶∞ ‡¶ó‡ßã‡¶õ‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶§‡¶æ‡¶∏ ‡¶§‡ßã‡¶≤‡¶æ ‡¶π‡¶≤‡ßã ‡¶è‡¶¨‡¶Ç ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶ó‡ßá‡¶≤ ‡¶∏‡ßá‡¶ü‡¶ø ‡¶π‡¶∞‡¶§‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∏‡•§ ‡¶è‡¶ü‡¶ø ‡¶π‡¶∞‡¶§‡¶®‡ßá‡¶∞ ‡¶∞‡¶æ‡¶ú‡¶æ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶ï‡¶§?",
                    solution: `<div class="math-example">
                        <div class="math-line">$$P(‡¶π‡¶∞‡¶§‡¶®‡ßá‡¶∞ ‡¶∞‡¶æ‡¶ú‡¶æ | ‡¶π‡¶∞‡¶§‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∏) = \\frac{P(‡¶π‡¶∞‡¶§‡¶®‡ßá‡¶∞ ‡¶∞‡¶æ‡¶ú‡¶æ)}{P(‡¶π‡¶∞‡¶§‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∏)}$$</div>
                        <div class="math-line">$$= \\frac{\\frac{1}{52}}{\\frac{13}{52}} = \\frac{1}{13}$$</div>
                    </div>`
                },
                practice: {
                    question: "‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ó‡ßá 3‡¶ü‡¶ø ‡¶≤‡¶æ‡¶≤ ‡¶ì 2‡¶ü‡¶ø ‡¶®‡ßÄ‡¶≤ ‡¶¨‡¶≤ ‡¶Ü‡¶õ‡ßá‡•§ ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶≤‡¶æ‡¶≤ ‡¶¨‡¶≤ ‡¶§‡ßã‡¶≤‡¶æ ‡¶π‡¶≤‡ßã ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßá‡¶ü‡¶ø ‡¶´‡ßá‡¶∞‡¶§ ‡¶®‡¶æ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡ßç‡¶¨‡¶ø‡¶§‡ßÄ‡¶Ø‡¶º‡¶¨‡¶æ‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡¶≤ ‡¶§‡ßã‡¶≤‡¶æ ‡¶π‡¶≤‡ßã‡•§ ‡¶¶‡ßç‡¶¨‡¶ø‡¶§‡ßÄ‡¶Ø‡¶º ‡¶¨‡¶≤‡¶ü‡¶ø ‡¶®‡ßÄ‡¶≤ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶ï‡¶§?",
                    options: ["$\\frac{2}{5}$", "$\\frac{1}{2}$", "$\\frac{3}{5}$", "$\\frac{1}{4}$"],
                    correct: 1,
                    explanation: "‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡¶¨‡¶æ‡¶∞ ‡¶≤‡¶æ‡¶≤ ‡¶¨‡¶≤ ‡¶§‡ßã‡¶≤‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ó‡ßá ‡¶•‡¶æ‡¶ï‡ßá: 2 ‡¶≤‡¶æ‡¶≤, 2 ‡¶®‡ßÄ‡¶≤ ‡¶¨‡¶≤<br>‚à¥ ‡¶¶‡ßç‡¶¨‡¶ø‡¶§‡ßÄ‡¶Ø‡¶º ‡¶¨‡¶≤ ‡¶®‡ßÄ‡¶≤ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ $= \\frac{2}{4} = \\frac{1}{2}$"
                },
                venn: "conditional"
            },
            {
                id: 6,
                title: "‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶® ‡¶ò‡¶ü‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Æ‡¶ø‡¶≤‡¶ø‡¶§ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ",
                formula: "$$P(A \\cup B) = P(A) + P(B) - P(A) \\times P(B)$$",
                explanation: "‡¶Ø‡¶ñ‡¶® $A$ ‡¶è‡¶¨‡¶Ç $B$ ‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶® ‡¶ò‡¶ü‡¶®‡¶æ, ‡¶§‡¶ñ‡¶® $A$ ‡¶Ö‡¶•‡¶¨‡¶æ $B$ ‡¶ò‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶π‡¶≤‡ßã ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶™‡ßÉ‡¶•‡¶ï ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶∑‡ßç‡¶ü‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ó‡ßÅ‡¶£‡¶´‡¶≤ ‡¶¨‡¶ø‡¶Ø‡¶º‡ßã‡¶ó‡•§ ‡¶è‡¶ü‡¶ø ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶Ø‡ßã‡¶ó ‡¶∏‡ßÇ‡¶§‡ßç‡¶∞‡ßá‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶∞‡ßÇ‡¶™ ‡¶Ø‡¶ñ‡¶® ‡¶ò‡¶ü‡¶®‡¶æ‡¶¶‡ßç‡¶¨‡¶Ø‡¶º ‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶®‡•§",
                example: {
                    question: "‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶® ‡¶ò‡¶ü‡¶®‡¶æ $A$ ‡¶è‡¶¨‡¶Ç $B$-‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø $P(A) = 0.4$ ‡¶è‡¶¨‡¶Ç $P(B) = 0.5$ ‡¶π‡¶≤‡ßá, $P(A \\cup B)$ ‡¶ï‡¶§?",
                    solution: `<div class="math-example">
                        <div class="math-line">$$P(A \\cup B) = P(A) + P(B) - P(A) \\times P(B)$$</div>
                        <div class="math-line">$$= 0.4 + 0.5 - (0.4 \\times 0.5)$$</div>
                        <div class="math-line">$$= 0.9 - 0.2 = 0.7$$</div>
                    </div>`
                },
                practice: {
                    question: "‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶® ‡¶ò‡¶ü‡¶®‡¶æ $A$ ‡¶è‡¶¨‡¶Ç $B$-‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø $P(A) = 0.3$ ‡¶è‡¶¨‡¶Ç $P(B) = 0.6$ ‡¶π‡¶≤‡ßá, $P(A \\cup B)$ ‡¶ï‡¶§?",
                    options: ["0.72", "0.18", "0.9", "0.78"],
                    correct: 0,
                    explanation: "$P(A \\cup B) = P(A) + P(B) - P(A) \\times P(B)$<br>$= 0.3 + 0.6 - (0.3 \\times 0.6)$<br>$= 0.9 - 0.18 = 0.72$"
                },
                venn: "independent-union"
            }
        ];

        // Helper: Render KaTeX in an element (all math inside $...$ or $$...$$)
        function renderMathInElementSafe(el) {
            renderMathInElement(el, {
                delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "\\[", right: "\\]", display: true},
                    {left: "$", right: "$", display: false},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            const gameArea = document.getElementById('game-area');
            let unlockedFormulas = 1; // Start with first formula unlocked
            const formulaSections = [];

            function renderFormulas() {
                gameArea.innerHTML = '';
                formulaSections.length = 0;
                formulas.forEach((formula, index) => {
                    const formulaSection = document.createElement('div');
                    formulaSection.className = `formula-section${index >= unlockedFormulas ? ' locked' : ''}`;
                    formulaSection.id = `formula-${formula.id}`;
                    
                    let vennHTML = '';
                    if (formula.venn) {
                        if (formula.venn === "no-overlap") {
                            vennHTML = `<div class="venn-container"><div class="venn-diagram"><div class="circle circle-no-overlap-a">A</div><div class="circle circle-no-overlap-b">B</div></div></div>`;
                        } else if (formula.venn === "overlap") {
                            vennHTML = `<div class="venn-container"><div class="venn-diagram"><div class="circle circle-a">A</div><div class="circle circle-b">B</div><div class="intersection">A‚à©B</div></div></div>`;
                        } else if (formula.venn === "independent") {
                            vennHTML = `<div class="venn-container"><div class="venn-diagram"><div class="circle circle-a" style="left: 40px;">A</div><div class="circle circle-b" style="right: 40px;">B</div><div class="intersection">A‚à©B</div></div></div>`;
                        } else if (formula.venn === "independent-union") {
                            vennHTML = `<div class="venn-container"><div class="venn-diagram"><div class="circle circle-a">A</div><div class="circle circle-b">B</div><div class="intersection">A‚à™B</div></div></div>`;
                        }
                    }
                    
                    formulaSection.innerHTML = `
                        <div class="formula-header">
                            <div class="formula-number">${formula.id}</div>
                            <div class="formula-title">${formula.title}</div>
                        </div>
                        <div class="formula-box">
                            <div class="math-formula">${formula.formula}</div>
                        </div>
                        <div class="explanation">${formula.explanation}</div>
                        <div class="example">
                            <div class="example-title">‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:</div>
                            <div class="question">${formula.example.question}</div>
                            <div class="solution">${formula.example.solution}</div>
                        </div>
                        ${vennHTML}
                        <div class="practice-area">
                            <div class="practice-title">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶æ‡¶≤‡¶æ:</div>
                            <div class="question">${formula.practice.question}</div>
                            <div class="options">
                                ${formula.practice.options.map((option, i) => 
                                    `<div class="option" data-index="${i}">${option}</div>`
                                ).join('')}
                            </div>
                            <button class="submit-btn"${index >= unlockedFormulas ? ' disabled' : ''}>‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®</button>
                            <div class="result"></div>
                        </div>
                    `;
                    gameArea.appendChild(formulaSection);
                    formulaSections.push(formulaSection);
                });
            }

            function attachListeners() {
                for (let idx = 0; idx < unlockedFormulas; idx++) {
                    const formulaSection = formulaSections[idx];
                    if (formulaSection.classList.contains('locked')) continue;
                    const options = formulaSection.querySelectorAll('.option');
                    const submitBtn = formulaSection.querySelector('.submit-btn');
                    const resultDiv = formulaSection.querySelector('.result');
                    if (!submitBtn) continue;
                    
                    let selectedOption = null;
                    options.forEach(option => {
                        option.onclick = function() {
                            options.forEach(opt => opt.classList.remove('selected'));
                            this.classList.add('selected');
                            selectedOption = parseInt(this.getAttribute('data-index'));
                            submitBtn.disabled = false;
                        };
                    });
                    submitBtn.onclick = function() {
                        const formula = formulas[idx];
                        if (selectedOption === formula.practice.correct) {
                            resultDiv.innerHTML = `‡¶∏‡¶†‡¶ø‡¶ï! ${formula.practice.explanation}`;
                            resultDiv.className = 'result correct';
                            if (unlockedFormulas < formulas.length) {
                                setTimeout(() => {
                                    unlockedFormulas++;
                                    renderFormulas();
                                    updateProgress();
                                    renderAllMath();
                                    attachListeners();
                                }, 1000);
                            }
                        } else {
                            resultDiv.innerHTML = `‡¶≠‡ßÅ‡¶≤! ‡¶∏‡¶†‡¶ø‡¶ï ‡¶â‡¶§‡ßç‡¶§‡¶∞: ${formula.practice.options[formula.practice.correct]}. ${formula.practice.explanation}`;
                            resultDiv.className = 'result incorrect';
                        }
                        renderMathInElementSafe(resultDiv);
                    };
                }
            }

            function updateProgress() {
                const progressPercent = (unlockedFormulas / formulas.length) * 100;
                document.getElementById('progress').style.width = `${progressPercent}%`;
                document.getElementById('progress-percent').textContent = `${Math.round(progressPercent)}%`;
            }

            function renderAllMath() {
                renderMathInElementSafe(document.getElementById('game-area'));
            }

            // Initial render
            renderFormulas();
            updateProgress();
            renderAllMath();
            attachListeners();

            // Make math responsive on window resize (for KaTeX font scaling)
            window.addEventListener('resize', function() {
                renderAllMath();
            });
        });
    </script>
</body>
</html>
